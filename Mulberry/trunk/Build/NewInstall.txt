Installation of Mulberry Build Environment

1.  Basic System Libraries/Tools

1.1 Check gcc version.
    Use 2.95.3 for now.
    If that's not set download gcc from gnu.org

    ./configure --prefix=/usr
    make bootstrap
    make install

1.2 Get latest openssl

    ./config
    make
    make install

1.3 Get latest openssh

    ./configure --with-pam
    make
    make install

1.4 Get latest gnupg

    ./configure
    make
    make install

1.5 Get latest openldap

    ./configure
    make depend
    make
    make install

1.6 Check for Kerberos v4/v5


2.  Basic User Environment

2.1 Copy ~/.bashrc from existing system

2.2 Copy ~/.ssh from existing system

2.3 Start new terminal for new bashrc

2.4 loadssh and verify ssh cert loads

2.5 test ssh connection to cvs server

2.6 Create /users/dev & /users/dev/mulberry


3.  Checkout latest source

3.1 Checkout all sources. Use appropriate (optional) <tag>

    cd /users/dev
    cvs checkout STLport
    cvs checkout ACE_wrappers_v2
    cvs checkout JX-1.5.4
    cd mulberry
    cvs checkout Build
    cvs checkout -r <tag> Plug-ins
    cvs checkout -r <tag> Sources_Common
    cvs checkout -r <tag> Linux_v2
    cd /users/dev
    mkdir ClientLibs
    cd ClientLibs
    CVSROOT=:ext:daboo@cvs.cyrusoft.com:/users/dev/CVSClients
    cvs checkout Libraries/iCalendar
    cvs checkout Libraries/XMLLib
    CVSROOT=:ext:daboo@cvs.cyrusoft.com:/users/dev/CVS

3.2 Make links in JX

    cd /users/dev/JX-1.5.4/ACE
    ln -s ../../ACE_wrappers_v2 ACE_wrappers
    cd ../lib
    ln -s ../ACE_wrappers/ace/libACE.a libACE-5_0_2.a
    ln -s ../ACE_wrappers/ace/libACE.so libACE-5_0_2.so
    ln -s ../libjcore/libjcore-1.5.4.a libjcore-1.5.4.a
    ln -s ../libjcore/libjcore-1.5.4.so libjcore-1.5.4.so
    ln -s ../libjcore/libjx-1.5.4.a libjx-1.5.4.a
    ln -s ../libjcore/libjx-1.5.4.so libjx-1.5.4.so
    cd ../include
    ln -s ../libjcore/code jcore
    ln -s ../libjx/code jx

3.3 Make mulberry links/items

    cd /users/dev/mulberry/Build
    cat > make.local
    ARCHIVE_SUFFIX := xxx
    ctrl-D
    cd ../Sources_Common/Plugins
    ln -s "Address IO" Address_IO
    ln -s "Pswd Change" Pswd_Change

3.4 Make include links/items

	# If Xft/freetype is being used
	su
	cd /usr/include
	ln -s freetype2/freetype .
	exit

4.  Build code

4.1 Build and install STLport libraries

    cd /users/dev/STLport/src
    make -f xxx release_static release_dynamic
    cd ../lib
    ln -s libstlport_gcc.so.4.6 libstlport_gcc.so
    #cp *.so /usr/local/lib

4.2 Build and install ACE/JX libraries
    cd /users/dev/JX-1.5.4
    ./build

4.3 Build mulberry

    cd /users/dev/mulberry4/Linux_v2
    ./links.sh
    makemake
    make -k

4.4 Build plugins

    cd ../Build
    make plugins
    make splugins
    cd ../Plug-ins
    source installall

5.  Run Mulberry!

6. Admin Tool
